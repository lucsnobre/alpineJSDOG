<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alpine Dogs</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>
<body>
    <div class="app" x-data="dogApp()">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <div class="brand">
                        <div class="brand-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z" fill="currentColor"/>
                            </svg>
                        </div>
                        <div class="brand-text">
                            <h1>Alpine Dogs</h1>
                        </div>
                    </div>
                    <nav class="nav">
                        <a href="#" class="nav-link">Raças</a>
                        <a href="#" class="nav-link">Sobre</a>
                        <a href="#" class="nav-link">API</a>
                    </nav>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <h2 class="hero-title">Descubra todas as raças de cães</h2>
                    <p class="hero-subtitle">Explore centenas de raças com imagens reais usando a Dog CEO API</p>
                    <div class="hero-stats">
                        <div class="stat">
                            <span class="stat-number" x-text="breeds.length || '...'"></span>
                            <span class="stat-label">Raças</span>
                        </div>
                        <div class="stat">
                            <span class="stat-number" x-text="breeds.reduce((acc, breed) => acc + breed.subBreeds.length, 0) || '...'"></span>
                            <span class="stat-label">Sub-raças</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Main Content -->
        <main class="main">
            <div class="container">
                <!-- Loading State -->
                <div x-show="loading" class="loading-state">
                    <div class="spinner"></div>
                    <p>Carregando raças de cães...</p>
                </div>

                <!-- Error State -->
                <div x-show="error" class="error-state">
                    <div class="error-icon">⚠️</div>
                    <p x-text="error"></p>
                </div>

                <!-- Search Section -->
                <div x-show="!loading && !error" class="search-section">
                    <div class="search-container">
                        <div class="search-input-wrapper">
                            <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21 21L16.514 16.506L21 21ZM19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <input 
                                type="text" 
                                x-model="searchTerm" 
                                placeholder="Buscar por uma raça..." 
                                class="search-input"
                            >
                        </div>
                        <div class="search-results">
                            <span x-text="`${filteredBreeds.length} raças encontradas`"></span>
                        </div>
                    </div>
                </div>

                <!-- Breeds Grid -->
                <div x-show="!loading && !error" class="breeds-section">
                    <div class="breeds-grid">
                        <template x-for="breed in filteredBreeds" :key="breed.name">
                            <div class="breed-card" @click="selectBreed(breed.name)">
                                <div class="breed-card-header">
                                    <h3 x-text="breed.name" class="breed-name"></h3>
                                    <div class="breed-badge" x-show="breed.subBreeds.length > 0">
                                        <span x-text="breed.subBreeds.length"></span>
                                    </div>
                                </div>
                                <div x-show="breed.subBreeds.length > 0" class="sub-breeds">
                                    <div class="sub-breeds-list">
                                        <template x-for="subBreed in breed.subBreeds.slice(0, 3)" :key="subBreed">
                                            <span x-text="subBreed" class="sub-breed-tag"></span>
                                        </template>
                                        <span x-show="breed.subBreeds.length > 3" class="sub-breed-more">
                                            +<span x-text="breed.subBreeds.length - 3"></span>
                                        </span>
                                    </div>
                                </div>
                                <div class="breed-card-footer">
                                    <span class="view-photos">Ver fotos →</span>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
        </main>

        <!-- Modal -->
        <div x-show="selectedBreed" class="modal-overlay" @click="closeModal()" x-transition>
            <div class="modal" @click.stop x-transition>
                <div class="modal-header">
                    <h2 x-text="selectedBreed" class="modal-title"></h2>
                    <button @click="closeModal()" class="modal-close">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
                <div class="modal-body">
                    <div x-show="loadingImage" class="modal-loading">
                        <div class="spinner"></div>
                        <p>Carregando imagem...</p>
                    </div>
                    <div x-show="breedImage && !loadingImage" class="modal-image-container">
                        <img :src="breedImage" :alt="selectedBreed" class="modal-image">
                        <button @click="getRandomImage()" class="refresh-btn" :disabled="loadingImage">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M1 4V10H7M23 20V14H17M20.49 9A9 9 0 0 0 5.64 5.64L1 10M23 14L18.36 18.36A9 9 0 0 1 3.51 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            Nova imagem
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer-content">
                    <p>Desenvolvido com <strong>Alpine.js</strong> e <a href="https://dog.ceo/dog-api/" target="_blank">Dog CEO API</a></p>
                </div>
            </div>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
